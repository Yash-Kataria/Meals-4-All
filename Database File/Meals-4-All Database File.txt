CREATE TABLE `meals-4-all`.`customer` ( `CustomerId` SMALLINT NOT NULL AUTO_INCREMENT , `CustomerName` VARCHAR(50) NOT NULL , `Gender` VARCHAR(11) NOT NULL , `EmailId` VARCHAR(253) NOT NULL , `PhoneNo` VARCHAR(14) NOT NULL , `Photo` VARCHAR(500) NOT NULL , `Address` VARCHAR(500) NOT NULL , `Password` VARCHAR(20) NOT NULL , PRIMARY KEY (`CustomerId`)) ENGINE = InnoDB;

ALTER TABLE `customer` ADD `Birthdate` DATE NOT NULL AFTER `Gender`; 

ALTER TABLE `meals-4-all`.`customer` ADD UNIQUE (`EmailId`);

CREATE TABLE `meals-4-all`.`jobapplicant` ( `ApplicantId` SMALLINT NOT NULL AUTO_INCREMENT , `ApplicantName` VARCHAR(50) NOT NULL , `Gender` VARCHAR(11) NOT NULL , `EmailId` VARCHAR(256) NOT NULL , `PhoneNo` VARCHAR(13) NOT NULL , `Address` VARCHAR(500) NOT NULL , `Photo` VARCHAR(500) NOT NULL , `LicencePhoto` VARCHAR(500) NOT NULL , `LicenceNo` VARCHAR(16) NOT NULL , `Status` VARCHAR(10) NOT NULL , PRIMARY KEY (`ApplicantId`)) ENGINE = InnoDB; 

ALTER TABLE `jobapplicant` ADD `Birthdate` DATE NOT NULL AFTER `Gender`; 

CREATE TABLE `meals-4-all`.`cuisines` ( `CuisineId` SMALLINT NOT NULL AUTO_INCREMENT , `CuisineName` VARCHAR(50) NOT NULL , `Description` VARCHAR(300) NOT NULL , PRIMARY KEY (`CuisineId`)) ENGINE = InnoDB; 

ALTER TABLE `cuisines` ADD `CuisinePhoto` VARCHAR(200) NOT NULL AFTER `Description`; 

CREATE TABLE `meals-4-all`.`admin` ( `AdminId` SMALLINT NOT NULL AUTO_INCREMENT , `AdminName` VARCHAR(50) NOT NULL , `EmailID` VARCHAR(256) NOT NULL , `Password` VARCHAR(20) NOT NULL , PRIMARY KEY (`AdminId`)) ENGINE = InnoDB; 

CREATE TABLE `meals-4-all`.`fooditems` ( `ItemId` SMALLINT NOT NULL AUTO_INCREMENT , `ItemName` VARCHAR(20) NOT NULL , `Price` FLOAT NOT NULL , `Description` VARCHAR(100) NOT NULL , `ItemPhoto` VARCHAR(200) NOT NULL , `CuisineId` SMALLINT NOT NULL , PRIMARY KEY (`ItemId`)) ENGINE = InnoDB; 

ALTER TABLE `fooditems` ADD FOREIGN KEY (`CuisineId`) REFERENCES `cuisines`(`CuisineId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

CREATE TABLE `meals-4-all`.`rating` ( `RatingId` SMALLINT NOT NULL AUTO_INCREMENT , `ItemId` SMALLINT NOT NULL , `CustomerId` SMALLINT NOT NULL , `RatingValue` TINYINT NOT NULL , `FeedBack` VARCHAR(200) NOT NULL , PRIMARY KEY (`RatingId`)) ENGINE = InnoDB; 

ALTER TABLE `rating` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `rating` ADD FOREIGN KEY (`ItemId`) REFERENCES `fooditems`(`ItemId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

CREATE TABLE `meals-4-all`.`orders` ( `OrderId` SMALLINT NOT NULL AUTO_INCREMENT , `OrderTime` DATETIME NOT NULL , `OrderStatus` VARCHAR(20) NOT NULL , `CustomerId` SMALLINT NOT NULL , PRIMARY KEY (`OrderId`)) ENGINE = InnoDB; 

ALTER TABLE `orders` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

CREATE TABLE `meals-4-all`.`orderdetails` ( `OrderDetailsId` SMALLINT NOT NULL AUTO_INCREMENT , `OrderId` SMALLINT NOT NULL , `ItemId` SMALLINT NOT NULL , `Quantity` TINYINT NOT NULL , `Amount` FLOAT NOT NULL , PRIMARY KEY (`OrderDetailsId`)) ENGINE = InnoDB; 

ALTER TABLE `orderdetails` ADD FOREIGN KEY (`OrderId`) REFERENCES `orders`(`OrderId`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `orderdetails` ADD FOREIGN KEY (`ItemId`) REFERENCES `fooditems`(`ItemId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

CREATE TABLE `meals-4-all`.`cart` ( `CustomerId` SMALLINT NOT NULL , `ItemId` SMALLINT NOT NULL , `Quantity` TINYINT NOT NULL , `TotalAmount` FLOAT NOT NULL ) ENGINE = InnoDB; 

ALTER TABLE `cart` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

ALTER TABLE `cart` ADD FOREIGN KEY (`ItemId`) REFERENCES `fooditems`(`ItemId`) ON DELETE RESTRICT ON UPDATE RESTRICT

CREATE TABLE `meals-4-all`.`bill` ( `BillId` SMALLINT NOT NULL AUTO_INCREMENT , `CustomerId` SMALLINT NOT NULL , `OrderId` SMALLINT NOT NULL , `Total` FLOAT NOT NULL , `GeneratedOn` DATETIME NOT NULL , PRIMARY KEY (`BillId`)) ENGINE = InnoDB; 

ALTER TABLE `bill` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `bill` ADD FOREIGN KEY (`OrderId`) REFERENCES `orders`(`OrderId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

CREATE TABLE `meals-4-all`.`charity` ( `CharityId` SMALLINT NOT NULL AUTO_INCREMENT , `CustomerId` SMALLINT NOT NULL , `TotalAmount` FLOAT NOT NULL , `Description` VARCHAR(100) NOT NULL , `ShowName` BOOLEAN NOT NULL , PRIMARY KEY (`CharityId`)) ENGINE = InnoDB; 

ALTER TABLE `charity` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT; 

ALTER TABLE `charity` ADD `CharityDate` DATETIME NOT NULL AFTER `ShowName`; 

CREATE TABLE `meals-4-all`.`offers` ( `OfferId` SMALLINT NOT NULL AUTO_INCREMENT , `CustomerId` SMALLINT NOT NULL , `OfferCode` VARCHAR(10) NOT NULL , `Discount` TINYINT NOT NULL , `Status` VARCHAR(10) NOT NULL , PRIMARY KEY (`OfferId`)) ENGINE = InnoDB; 

ALTER TABLE `offers` ADD FOREIGN KEY (`CustomerId`) REFERENCES `customer`(`CustomerId`) ON DELETE RESTRICT ON UPDATE RESTRICT;

CREATE TABLE `meals-4-all`.`payment` ( `PaymentId` SMALLINT NOT NULL AUTO_INCREMENT , `BillId` SMALLINT NOT NULL , `Status` VARCHAR(20) NOT NULL , PRIMARY KEY (`PaymentId`)) ENGINE = InnoDB;

ALTER TABLE `payment` ADD FOREIGN KEY (`BillId`) REFERENCES `bill`(`BillId`) ON DELETE RESTRICT ON UPDATE RESTRICT;
 